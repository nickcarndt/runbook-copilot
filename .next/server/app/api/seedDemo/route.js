/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/seedDemo/route";
exports.ids = ["app/api/seedDemo/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/pdf-parse/lib/pdf.js sync recursive ^\\.\\/.*\\/build\\/pdf\\.js$":
/*!**************************************************************************!*\
  !*** ./node_modules/pdf-parse/lib/pdf.js/ sync ^\.\/.*\/build\/pdf\.js$ ***!
  \**************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./v1.10.100/build/pdf.js": "(rsc)/./node_modules/pdf-parse/lib/pdf.js/v1.10.100/build/pdf.js",
	"./v1.10.88/build/pdf.js": "(rsc)/./node_modules/pdf-parse/lib/pdf.js/v1.10.88/build/pdf.js",
	"./v1.9.426/build/pdf.js": "(rsc)/./node_modules/pdf-parse/lib/pdf.js/v1.9.426/build/pdf.js",
	"./v2.0.550/build/pdf.js": "(rsc)/./node_modules/pdf-parse/lib/pdf.js/v2.0.550/build/pdf.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "(rsc)/./node_modules/pdf-parse/lib/pdf.js sync recursive ^\\.\\/.*\\/build\\/pdf\\.js$";

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = import("pg");;

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FseedDemo%2Froute&page=%2Fapi%2FseedDemo%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FseedDemo%2Froute.ts&appDir=%2FUsers%2Fnickarndt%2FCode%2Frunbook-copilot%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnickarndt%2FCode%2Frunbook-copilot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FseedDemo%2Froute&page=%2Fapi%2FseedDemo%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FseedDemo%2Froute.ts&appDir=%2FUsers%2Fnickarndt%2FCode%2Frunbook-copilot%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnickarndt%2FCode%2Frunbook-copilot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_nickarndt_Code_runbook_copilot_app_api_seedDemo_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/seedDemo/route.ts */ \"(rsc)/./app/api/seedDemo/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_nickarndt_Code_runbook_copilot_app_api_seedDemo_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_nickarndt_Code_runbook_copilot_app_api_seedDemo_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/seedDemo/route\",\n        pathname: \"/api/seedDemo\",\n        filename: \"route\",\n        bundlePath: \"app/api/seedDemo/route\"\n    },\n    resolvedPagePath: \"/Users/nickarndt/Code/runbook-copilot/app/api/seedDemo/route.ts\",\n    nextConfigOutput,\n    userland: _Users_nickarndt_Code_runbook_copilot_app_api_seedDemo_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/seedDemo/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZWVkRGVtbyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2VlZERlbW8lMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzZWVkRGVtbyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm5pY2thcm5kdCUyRkNvZGUlMkZydW5ib29rLWNvcGlsb3QlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbmlja2FybmR0JTJGQ29kZSUyRnJ1bmJvb2stY29waWxvdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZTtBQUM1RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3J1bmJvb2stY29waWxvdC8/YWFlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbmlja2FybmR0L0NvZGUvcnVuYm9vay1jb3BpbG90L2FwcC9hcGkvc2VlZERlbW8vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NlZWREZW1vL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2VlZERlbW9cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3NlZWREZW1vL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL25pY2thcm5kdC9Db2RlL3J1bmJvb2stY29waWxvdC9hcHAvYXBpL3NlZWREZW1vL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zZWVkRGVtby9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FseedDemo%2Froute&page=%2Fapi%2FseedDemo%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FseedDemo%2Froute.ts&appDir=%2FUsers%2Fnickarndt%2FCode%2Frunbook-copilot%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnickarndt%2FCode%2Frunbook-copilot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/seedDemo/route.ts":
/*!***********************************!*\
  !*** ./app/api/seedDemo/route.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _lib_demo_runbooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/demo-runbooks */ \"(rsc)/./lib/demo-runbooks.ts\");\n/* harmony import */ var _lib_indexing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/indexing */ \"(rsc)/./lib/indexing.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_db__WEBPACK_IMPORTED_MODULE_1__, _lib_indexing__WEBPACK_IMPORTED_MODULE_3__]);\n([_lib_db__WEBPACK_IMPORTED_MODULE_1__, _lib_indexing__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n// Demo safety gate\nfunction checkDemoToken(request) {\n    const demoToken = process.env.RBC_DEMO_TOKEN;\n    if (!demoToken) return true;\n    const headerToken = request.headers.get(\"x-rbc-token\");\n    return headerToken === demoToken;\n}\nconst runtime = \"nodejs\";\nasync function POST(request) {\n    const startTime = Date.now();\n    const requestId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n    // Early validation of required environment variables\n    if (!process.env.OPENAI_API_KEY) {\n        const latency = Date.now() - startTime;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            request_id: requestId,\n            error: {\n                message: \"OPENAI_API_KEY environment variable is not set\",\n                code: \"CONFIG_ERROR\"\n            },\n            latency_ms: latency\n        }, {\n            status: 500\n        });\n    }\n    if (!process.env.DATABASE_URL) {\n        const latency = Date.now() - startTime;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            request_id: requestId,\n            error: {\n                message: \"DATABASE_URL environment variable is not set\",\n                code: \"CONFIG_ERROR\"\n            },\n            latency_ms: latency\n        }, {\n            status: 500\n        });\n    }\n    try {\n        // Demo safety gate\n        if (!checkDemoToken(request)) {\n            const latency = Date.now() - startTime;\n            await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.logUpload)(requestId, latency, \"error\", \"Unauthorized\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                request_id: requestId,\n                error: {\n                    message: \"Unauthorized\",\n                    code: \"UNAUTHORIZED\"\n                },\n                latency_ms: latency\n            }, {\n                status: 401\n            });\n        }\n        let documentsIndexed = 0;\n        let chunksIndexed = 0;\n        // Process each demo runbook\n        for (const runbook of _lib_demo_runbooks__WEBPACK_IMPORTED_MODULE_2__.demoRunbooks){\n            const filename = `${runbook.title.replace(/\\s+/g, \"-\")}.md`;\n            // Extract text (markdown content is already text)\n            const buffer = Buffer.from(runbook.content, \"utf-8\");\n            const text = (0,_lib_indexing__WEBPACK_IMPORTED_MODULE_3__.extractTextFromMarkdown)(buffer);\n            // Create document record\n            const documentId = await (0,_lib_indexing__WEBPACK_IMPORTED_MODULE_3__.insertDocument)(filename);\n            // Chunk text (heading-aware for markdown)\n            const chunks = (0,_lib_indexing__WEBPACK_IMPORTED_MODULE_3__.chunkText)(text, true);\n            // Process chunks and create embeddings\n            for(let i = 0; i < chunks.length; i++){\n                const chunk = chunks[i];\n                const embedding = await (0,_lib_indexing__WEBPACK_IMPORTED_MODULE_3__.createEmbedding)(chunk);\n                await (0,_lib_indexing__WEBPACK_IMPORTED_MODULE_3__.insertChunk)(documentId, i, chunk, embedding);\n                chunksIndexed++;\n            }\n            documentsIndexed++;\n        }\n        const latency = Date.now() - startTime;\n        // Log success\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.logUpload)(requestId, latency, \"success\", null);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            request_id: requestId,\n            latency_ms: latency,\n            documents_indexed: documentsIndexed,\n            chunks_indexed: chunksIndexed\n        });\n    } catch (error) {\n        const latency = Date.now() - startTime;\n        const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n        const errorCode = error instanceof Error && error.name ? error.name : \"INTERNAL_ERROR\";\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.logUpload)(requestId, latency, \"error\", errorMessage);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            request_id: requestId,\n            error: {\n                message: errorMessage,\n                code: errorCode\n            },\n            latency_ms: latency\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkMsWUFBWUo7WUFDWlEsWUFBWU47WUFDWjBCLG1CQUFtQmpCO1lBQ25Ca0IsZ0JBQWdCakI7UUFDbEI7SUFDRixFQUFFLE9BQU9QLE9BQU87UUFDZCxNQUFNSCxVQUFVSixLQUFLQyxHQUFHLEtBQUtGO1FBQzdCLE1BQU1pQyxlQUFlekIsaUJBQWlCMEIsUUFBUTFCLE1BQU1DLE9BQU8sR0FBRztRQUM5RCxNQUFNMEIsWUFBWTNCLGlCQUFpQjBCLFNBQVMxQixNQUFNNEIsSUFBSSxHQUFHNUIsTUFBTTRCLElBQUksR0FBRztRQUV0RSxNQUFNdEQsa0RBQVNBLENBQUNxQixXQUFXRSxTQUFTLFNBQVM0QjtRQUU3QyxPQUFPdEQscURBQVlBLENBQUMyQixJQUFJLENBQ3RCO1lBQ0VDLFlBQVlKO1lBQ1pLLE9BQU87Z0JBQUVDLFNBQVN3QjtnQkFBY3ZCLE1BQU15QjtZQUFVO1lBQ2hEeEIsWUFBWU47UUFDZCxHQUNBO1lBQUVPLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnVuYm9vay1jb3BpbG90Ly4vYXBwL2FwaS9zZWVkRGVtby9yb3V0ZS50cz85YmQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IGxvZ1VwbG9hZCB9IGZyb20gJ0AvbGliL2RiJztcbmltcG9ydCB7IGRlbW9SdW5ib29rcyB9IGZyb20gJ0AvbGliL2RlbW8tcnVuYm9va3MnO1xuaW1wb3J0IHsgZXh0cmFjdFRleHRGcm9tTWFya2Rvd24sIGNodW5rVGV4dCwgY3JlYXRlRW1iZWRkaW5nLCBpbnNlcnREb2N1bWVudCwgaW5zZXJ0Q2h1bmsgfSBmcm9tICdAL2xpYi9pbmRleGluZyc7XG5cbi8vIERlbW8gc2FmZXR5IGdhdGVcbmZ1bmN0aW9uIGNoZWNrRGVtb1Rva2VuKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogYm9vbGVhbiB7XG4gIGNvbnN0IGRlbW9Ub2tlbiA9IHByb2Nlc3MuZW52LlJCQ19ERU1PX1RPS0VOO1xuICBpZiAoIWRlbW9Ub2tlbikgcmV0dXJuIHRydWU7XG4gIGNvbnN0IGhlYWRlclRva2VuID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1yYmMtdG9rZW4nKTtcbiAgcmV0dXJuIGhlYWRlclRva2VuID09PSBkZW1vVG9rZW47XG59XG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gIGNvbnN0IHJlcXVlc3RJZCA9IHV1aWR2NCgpO1xuXG4gIC8vIEVhcmx5IHZhbGlkYXRpb24gb2YgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gIGlmICghcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkpIHtcbiAgICBjb25zdCBsYXRlbmN5ID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHJlcXVlc3RfaWQ6IHJlcXVlc3RJZCxcbiAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ09QRU5BSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnLCBjb2RlOiAnQ09ORklHX0VSUk9SJyB9LFxuICAgICAgICBsYXRlbmN5X21zOiBsYXRlbmN5LFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cblxuICBpZiAoIXByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCkge1xuICAgIGNvbnN0IGxhdGVuY3kgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgcmVxdWVzdF9pZDogcmVxdWVzdElkLFxuICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnREFUQUJBU0VfVVJMIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnLCBjb2RlOiAnQ09ORklHX0VSUk9SJyB9LFxuICAgICAgICBsYXRlbmN5X21zOiBsYXRlbmN5LFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIERlbW8gc2FmZXR5IGdhdGVcbiAgICBpZiAoIWNoZWNrRGVtb1Rva2VuKHJlcXVlc3QpKSB7XG4gICAgICBjb25zdCBsYXRlbmN5ID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIGF3YWl0IGxvZ1VwbG9hZChyZXF1ZXN0SWQsIGxhdGVuY3ksICdlcnJvcicsICdVbmF1dGhvcml6ZWQnKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHJlcXVlc3RfaWQ6IHJlcXVlc3RJZCxcbiAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJywgY29kZTogJ1VOQVVUSE9SSVpFRCcgfSxcbiAgICAgICAgICBsYXRlbmN5X21zOiBsYXRlbmN5LFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGRvY3VtZW50c0luZGV4ZWQgPSAwO1xuICAgIGxldCBjaHVua3NJbmRleGVkID0gMDtcblxuICAgIC8vIFByb2Nlc3MgZWFjaCBkZW1vIHJ1bmJvb2tcbiAgICBmb3IgKGNvbnN0IHJ1bmJvb2sgb2YgZGVtb1J1bmJvb2tzKSB7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3J1bmJvb2sudGl0bGUucmVwbGFjZSgvXFxzKy9nLCAnLScpfS5tZGA7XG4gICAgICBcbiAgICAgIC8vIEV4dHJhY3QgdGV4dCAobWFya2Rvd24gY29udGVudCBpcyBhbHJlYWR5IHRleHQpXG4gICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShydW5ib29rLmNvbnRlbnQsICd1dGYtOCcpO1xuICAgICAgY29uc3QgdGV4dCA9IGV4dHJhY3RUZXh0RnJvbU1hcmtkb3duKGJ1ZmZlcik7XG5cbiAgICAgIC8vIENyZWF0ZSBkb2N1bWVudCByZWNvcmRcbiAgICAgIGNvbnN0IGRvY3VtZW50SWQgPSBhd2FpdCBpbnNlcnREb2N1bWVudChmaWxlbmFtZSk7XG5cbiAgICAgIC8vIENodW5rIHRleHQgKGhlYWRpbmctYXdhcmUgZm9yIG1hcmtkb3duKVxuICAgICAgY29uc3QgY2h1bmtzID0gY2h1bmtUZXh0KHRleHQsIHRydWUpO1xuICAgICAgXG4gICAgICAvLyBQcm9jZXNzIGNodW5rcyBhbmQgY3JlYXRlIGVtYmVkZGluZ3NcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNodW5rID0gY2h1bmtzW2ldO1xuICAgICAgICBjb25zdCBlbWJlZGRpbmcgPSBhd2FpdCBjcmVhdGVFbWJlZGRpbmcoY2h1bmspO1xuICAgICAgICBhd2FpdCBpbnNlcnRDaHVuayhkb2N1bWVudElkLCBpLCBjaHVuaywgZW1iZWRkaW5nKTtcbiAgICAgICAgY2h1bmtzSW5kZXhlZCsrO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudHNJbmRleGVkKys7XG4gICAgfVxuXG4gICAgY29uc3QgbGF0ZW5jeSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAvLyBMb2cgc3VjY2Vzc1xuICAgIGF3YWl0IGxvZ1VwbG9hZChcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIGxhdGVuY3ksXG4gICAgICAnc3VjY2VzcycsXG4gICAgICBudWxsXG4gICAgKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICByZXF1ZXN0X2lkOiByZXF1ZXN0SWQsXG4gICAgICBsYXRlbmN5X21zOiBsYXRlbmN5LFxuICAgICAgZG9jdW1lbnRzX2luZGV4ZWQ6IGRvY3VtZW50c0luZGV4ZWQsXG4gICAgICBjaHVua3NfaW5kZXhlZDogY2h1bmtzSW5kZXhlZCxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBsYXRlbmN5ID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICBjb25zdCBlcnJvckNvZGUgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPyBlcnJvci5uYW1lIDogJ0lOVEVSTkFMX0VSUk9SJztcblxuICAgIGF3YWl0IGxvZ1VwbG9hZChyZXF1ZXN0SWQsIGxhdGVuY3ksICdlcnJvcicsIGVycm9yTWVzc2FnZSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHJlcXVlc3RfaWQ6IHJlcXVlc3RJZCxcbiAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogZXJyb3JNZXNzYWdlLCBjb2RlOiBlcnJvckNvZGUgfSxcbiAgICAgICAgbGF0ZW5jeV9tczogbGF0ZW5jeSxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwidjQiLCJ1dWlkdjQiLCJsb2dVcGxvYWQiLCJkZW1vUnVuYm9va3MiLCJleHRyYWN0VGV4dEZyb21NYXJrZG93biIsImNodW5rVGV4dCIsImNyZWF0ZUVtYmVkZGluZyIsImluc2VydERvY3VtZW50IiwiaW5zZXJ0Q2h1bmsiLCJjaGVja0RlbW9Ub2tlbiIsInJlcXVlc3QiLCJkZW1vVG9rZW4iLCJwcm9jZXNzIiwiZW52IiwiUkJDX0RFTU9fVE9LRU4iLCJoZWFkZXJUb2tlbiIsImhlYWRlcnMiLCJnZXQiLCJydW50aW1lIiwiUE9TVCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJyZXF1ZXN0SWQiLCJPUEVOQUlfQVBJX0tFWSIsImxhdGVuY3kiLCJqc29uIiwicmVxdWVzdF9pZCIsImVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJsYXRlbmN5X21zIiwic3RhdHVzIiwiREFUQUJBU0VfVVJMIiwiZG9jdW1lbnRzSW5kZXhlZCIsImNodW5rc0luZGV4ZWQiLCJydW5ib29rIiwiZmlsZW5hbWUiLCJ0aXRsZSIsInJlcGxhY2UiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiY29udGVudCIsInRleHQiLCJkb2N1bWVudElkIiwiY2h1bmtzIiwiaSIsImxlbmd0aCIsImNodW5rIiwiZW1iZWRkaW5nIiwiZG9jdW1lbnRzX2luZGV4ZWQiLCJjaHVua3NfaW5kZXhlZCIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwiZXJyb3JDb2RlIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/seedDemo/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logQuery: () => (/* binding */ logQuery),\n/* harmony export */   logUpload: () => (/* binding */ logUpload),\n/* harmony export */   pool: () => (/* binding */ pool),\n/* harmony export */   query: () => (/* binding */ query)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Single connection pool for serverless\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: process.env.DATABASE_URL,\n    // Serverless-friendly settings\n    max: 1,\n    idleTimeoutMillis: 30000,\n    connectionTimeoutMillis: 2000\n});\n// Basic query helper\nasync function query(text, params) {\n    return pool.query(text, params);\n}\n// Helper for inserting query log\nasync function logQuery(requestId, latencyMs, status, errorMessage, chunkIds) {\n    const chunkIdsJson = chunkIds && chunkIds.length > 0 ? JSON.stringify(chunkIds) : null;\n    await query(`INSERT INTO query_logs (request_id, latency_ms, status, error_message)\n     VALUES ($1, $2, $3, $4)`, [\n        requestId,\n        latencyMs,\n        status,\n        errorMessage || chunkIdsJson || null\n    ]);\n}\n// Helper for inserting upload log\nasync function logUpload(requestId, latencyMs, status, errorMessage) {\n    await query(`INSERT INTO upload_logs (request_id, latency_ms, status, error_message)\n     VALUES ($1, $2, $3, $4)`, [\n        requestId,\n        latencyMs,\n        status,\n        errorMessage || null\n    ]);\n}\n// Export pool for direct access if needed\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEI7QUFFMUIsd0NBQXdDO0FBQ3hDLE1BQU1DLE9BQU8sSUFBSUQsb0NBQUlBLENBQUM7SUFDcEJFLGtCQUFrQkMsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0lBQzFDLCtCQUErQjtJQUMvQkMsS0FBSztJQUNMQyxtQkFBbUI7SUFDbkJDLHlCQUF5QjtBQUMzQjtBQUVBLHFCQUFxQjtBQUNkLGVBQWVDLE1BQU1DLElBQVksRUFBRUMsTUFBYztJQUN0RCxPQUFPVixLQUFLUSxLQUFLLENBQUNDLE1BQU1DO0FBQzFCO0FBRUEsaUNBQWlDO0FBQzFCLGVBQWVDLFNBQ3BCQyxTQUFpQixFQUNqQkMsU0FBaUIsRUFDakJDLE1BQWMsRUFDZEMsWUFBcUIsRUFDckJDLFFBQW1CO0lBRW5CLE1BQU1DLGVBQWVELFlBQVlBLFNBQVNFLE1BQU0sR0FBRyxJQUFJQyxLQUFLQyxTQUFTLENBQUNKLFlBQVk7SUFDbEYsTUFBTVIsTUFDSixDQUFDOzRCQUN1QixDQUFDLEVBQ3pCO1FBQUNJO1FBQVdDO1FBQVdDO1FBQVFDLGdCQUFnQkUsZ0JBQWdCO0tBQUs7QUFFeEU7QUFFQSxrQ0FBa0M7QUFDM0IsZUFBZUksVUFDcEJULFNBQWlCLEVBQ2pCQyxTQUFpQixFQUNqQkMsTUFBYyxFQUNkQyxZQUFxQjtJQUVyQixNQUFNUCxNQUNKLENBQUM7NEJBQ3VCLENBQUMsRUFDekI7UUFBQ0k7UUFBV0M7UUFBV0M7UUFBUUMsZ0JBQWdCO0tBQUs7QUFFeEQ7QUFFQSwwQ0FBMEM7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ydW5ib29rLWNvcGlsb3QvLi9saWIvZGIudHM/MWRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb29sIH0gZnJvbSAncGcnO1xuXG4vLyBTaW5nbGUgY29ubmVjdGlvbiBwb29sIGZvciBzZXJ2ZXJsZXNzXG5jb25zdCBwb29sID0gbmV3IFBvb2woe1xuICBjb25uZWN0aW9uU3RyaW5nOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gIC8vIFNlcnZlcmxlc3MtZnJpZW5kbHkgc2V0dGluZ3NcbiAgbWF4OiAxLCAvLyBTaW5nbGUgY29ubmVjdGlvbiBwZXIgc2VydmVybGVzcyBmdW5jdGlvblxuICBpZGxlVGltZW91dE1pbGxpczogMzAwMDAsXG4gIGNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzOiAyMDAwLFxufSk7XG5cbi8vIEJhc2ljIHF1ZXJ5IGhlbHBlclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KHRleHQ6IHN0cmluZywgcGFyYW1zPzogYW55W10pIHtcbiAgcmV0dXJuIHBvb2wucXVlcnkodGV4dCwgcGFyYW1zKTtcbn1cblxuLy8gSGVscGVyIGZvciBpbnNlcnRpbmcgcXVlcnkgbG9nXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nUXVlcnkoXG4gIHJlcXVlc3RJZDogc3RyaW5nLFxuICBsYXRlbmN5TXM6IG51bWJlcixcbiAgc3RhdHVzOiBzdHJpbmcsXG4gIGVycm9yTWVzc2FnZT86IHN0cmluZyxcbiAgY2h1bmtJZHM/OiBzdHJpbmdbXVxuKSB7XG4gIGNvbnN0IGNodW5rSWRzSnNvbiA9IGNodW5rSWRzICYmIGNodW5rSWRzLmxlbmd0aCA+IDAgPyBKU09OLnN0cmluZ2lmeShjaHVua0lkcykgOiBudWxsO1xuICBhd2FpdCBxdWVyeShcbiAgICBgSU5TRVJUIElOVE8gcXVlcnlfbG9ncyAocmVxdWVzdF9pZCwgbGF0ZW5jeV9tcywgc3RhdHVzLCBlcnJvcl9tZXNzYWdlKVxuICAgICBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0KWAsXG4gICAgW3JlcXVlc3RJZCwgbGF0ZW5jeU1zLCBzdGF0dXMsIGVycm9yTWVzc2FnZSB8fCBjaHVua0lkc0pzb24gfHwgbnVsbF1cbiAgKTtcbn1cblxuLy8gSGVscGVyIGZvciBpbnNlcnRpbmcgdXBsb2FkIGxvZ1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ1VwbG9hZChcbiAgcmVxdWVzdElkOiBzdHJpbmcsXG4gIGxhdGVuY3lNczogbnVtYmVyLFxuICBzdGF0dXM6IHN0cmluZyxcbiAgZXJyb3JNZXNzYWdlPzogc3RyaW5nXG4pIHtcbiAgYXdhaXQgcXVlcnkoXG4gICAgYElOU0VSVCBJTlRPIHVwbG9hZF9sb2dzIChyZXF1ZXN0X2lkLCBsYXRlbmN5X21zLCBzdGF0dXMsIGVycm9yX21lc3NhZ2UpXG4gICAgIFZBTFVFUyAoJDEsICQyLCAkMywgJDQpYCxcbiAgICBbcmVxdWVzdElkLCBsYXRlbmN5TXMsIHN0YXR1cywgZXJyb3JNZXNzYWdlIHx8IG51bGxdXG4gICk7XG59XG5cbi8vIEV4cG9ydCBwb29sIGZvciBkaXJlY3QgYWNjZXNzIGlmIG5lZWRlZFxuZXhwb3J0IHsgcG9vbCB9O1xuXG4iXSwibmFtZXMiOlsiUG9vbCIsInBvb2wiLCJjb25uZWN0aW9uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsIm1heCIsImlkbGVUaW1lb3V0TWlsbGlzIiwiY29ubmVjdGlvblRpbWVvdXRNaWxsaXMiLCJxdWVyeSIsInRleHQiLCJwYXJhbXMiLCJsb2dRdWVyeSIsInJlcXVlc3RJZCIsImxhdGVuY3lNcyIsInN0YXR1cyIsImVycm9yTWVzc2FnZSIsImNodW5rSWRzIiwiY2h1bmtJZHNKc29uIiwibGVuZ3RoIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvZ1VwbG9hZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/demo-runbooks.ts":
/*!******************************!*\
  !*** ./lib/demo-runbooks.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   demoRunbooks: () => (/* binding */ demoRunbooks),\n/* harmony export */   searchRunbooks: () => (/* binding */ searchRunbooks)\n/* harmony export */ });\n// Demo runbooks for Milestone 1\nconst demoRunbooks = [\n    {\n        id: \"1\",\n        title: \"Database Connection Issue\",\n        content: `# Database Connection Issue\n\n## Symptoms\n- Application cannot connect to database\n- Error: \"Connection refused\" or \"Connection timeout\"\n- High latency on database queries\n\n## Steps to Resolve\n\n1. Check database service status\n   - Verify database is running: \\`systemctl status postgresql\\`\n   - Check logs: \\`journalctl -u postgresql -n 50\\`\n\n2. Verify network connectivity\n   - Test connection: \\`telnet db-host 5432\\`\n   - Check firewall rules\n\n3. Review connection pool settings\n   - Check max_connections in postgresql.conf\n   - Review application connection pool size\n\n4. Restart database if needed\n   - \\`sudo systemctl restart postgresql\\`\n\n## Prevention\n- Monitor connection pool usage\n- Set up alerts for connection errors\n- Regular database health checks`\n    },\n    {\n        id: \"2\",\n        title: \"High Memory Usage\",\n        content: `# High Memory Usage\n\n## Symptoms\n- Server memory usage > 90%\n- Application slowdown\n- OOM (Out of Memory) errors\n\n## Steps to Resolve\n\n1. Identify memory consumers\n   - Check top processes: \\`top -o %MEM\\`\n   - Review memory stats: \\`free -h\\`\n\n2. Check application memory leaks\n   - Review recent deployments\n   - Check for unclosed connections/resources\n\n3. Restart high-memory processes\n   - Identify and restart problematic services\n   - Consider scaling horizontally\n\n4. Clear caches if applicable\n   - Application caches\n   - System caches (if safe)\n\n## Prevention\n- Set memory limits on containers\n- Monitor memory trends\n- Regular memory leak audits`\n    },\n    {\n        id: \"3\",\n        title: \"API Rate Limiting\",\n        content: `# API Rate Limiting\n\n## Symptoms\n- 429 Too Many Requests errors\n- API calls being rejected\n- User complaints about service unavailability\n\n## Steps to Resolve\n\n1. Check current rate limit settings\n   - Review API gateway configuration\n   - Check application rate limiters\n\n2. Identify source of high traffic\n   - Review access logs\n   - Check for DDoS or legitimate traffic spike\n\n3. Adjust rate limits if needed\n   - Temporarily increase limits for legitimate traffic\n   - Block malicious IPs if applicable\n\n4. Scale infrastructure\n   - Add more API instances\n   - Increase rate limit thresholds\n\n## Prevention\n- Monitor API usage patterns\n- Set up alerts for rate limit breaches\n- Implement gradual rate limiting`\n    }\n];\nfunction searchRunbooks(query) {\n    const lowerQuery = query.toLowerCase();\n    return demoRunbooks.map((runbook)=>{\n        const titleMatch = runbook.title.toLowerCase().includes(lowerQuery) ? 10 : 0;\n        const contentMatch = (runbook.content.toLowerCase().match(new RegExp(lowerQuery, \"g\")) || []).length;\n        const relevance = titleMatch + contentMatch;\n        return {\n            ...runbook,\n            relevance\n        };\n    }).filter((r)=>r.relevance > 0).sort((a, b)=>b.relevance - a.relevance);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGVtby1ydW5ib29rcy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLGdDQUFnQztBQUN6QixNQUFNQSxlQUFlO0lBQzFCO1FBQ0VDLElBQUk7UUFDSkMsT0FBTztRQUNQQyxTQUFTLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnQ0EyQmtCLENBQUM7SUFDL0I7SUFDQTtRQUNFRixJQUFJO1FBQ0pDLE9BQU87UUFDUEMsU0FBUyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzRCQTRCYyxDQUFDO0lBQzNCO0lBQ0E7UUFDRUYsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLFNBQVMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztpQ0E0Qm1CLENBQUM7SUFDaEM7Q0FDRCxDQUFDO0FBRUssU0FBU0MsZUFBZUMsS0FBYTtJQUMxQyxNQUFNQyxhQUFhRCxNQUFNRSxXQUFXO0lBQ3BDLE9BQU9QLGFBQ0pRLEdBQUcsQ0FBQ0MsQ0FBQUE7UUFDSCxNQUFNQyxhQUFhRCxRQUFRUCxLQUFLLENBQUNLLFdBQVcsR0FBR0ksUUFBUSxDQUFDTCxjQUFjLEtBQUs7UUFDM0UsTUFBTU0sZUFBZSxDQUFDSCxRQUFRTixPQUFPLENBQUNJLFdBQVcsR0FBR00sS0FBSyxDQUFDLElBQUlDLE9BQU9SLFlBQVksU0FBUyxFQUFFLEVBQUVTLE1BQU07UUFDcEcsTUFBTUMsWUFBWU4sYUFBYUU7UUFDL0IsT0FBTztZQUFFLEdBQUdILE9BQU87WUFBRU87UUFBVTtJQUNqQyxHQUNDQyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVGLFNBQVMsR0FBRyxHQUMxQkcsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVMLFNBQVMsR0FBR0ksRUFBRUosU0FBUztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL3J1bmJvb2stY29waWxvdC8uL2xpYi9kZW1vLXJ1bmJvb2tzLnRzPzBjZTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRGVtbyBydW5ib29rcyBmb3IgTWlsZXN0b25lIDFcbmV4cG9ydCBjb25zdCBkZW1vUnVuYm9va3MgPSBbXG4gIHtcbiAgICBpZDogJzEnLFxuICAgIHRpdGxlOiAnRGF0YWJhc2UgQ29ubmVjdGlvbiBJc3N1ZScsXG4gICAgY29udGVudDogYCMgRGF0YWJhc2UgQ29ubmVjdGlvbiBJc3N1ZVxuXG4jIyBTeW1wdG9tc1xuLSBBcHBsaWNhdGlvbiBjYW5ub3QgY29ubmVjdCB0byBkYXRhYmFzZVxuLSBFcnJvcjogXCJDb25uZWN0aW9uIHJlZnVzZWRcIiBvciBcIkNvbm5lY3Rpb24gdGltZW91dFwiXG4tIEhpZ2ggbGF0ZW5jeSBvbiBkYXRhYmFzZSBxdWVyaWVzXG5cbiMjIFN0ZXBzIHRvIFJlc29sdmVcblxuMS4gQ2hlY2sgZGF0YWJhc2Ugc2VydmljZSBzdGF0dXNcbiAgIC0gVmVyaWZ5IGRhdGFiYXNlIGlzIHJ1bm5pbmc6IFxcYHN5c3RlbWN0bCBzdGF0dXMgcG9zdGdyZXNxbFxcYFxuICAgLSBDaGVjayBsb2dzOiBcXGBqb3VybmFsY3RsIC11IHBvc3RncmVzcWwgLW4gNTBcXGBcblxuMi4gVmVyaWZ5IG5ldHdvcmsgY29ubmVjdGl2aXR5XG4gICAtIFRlc3QgY29ubmVjdGlvbjogXFxgdGVsbmV0IGRiLWhvc3QgNTQzMlxcYFxuICAgLSBDaGVjayBmaXJld2FsbCBydWxlc1xuXG4zLiBSZXZpZXcgY29ubmVjdGlvbiBwb29sIHNldHRpbmdzXG4gICAtIENoZWNrIG1heF9jb25uZWN0aW9ucyBpbiBwb3N0Z3Jlc3FsLmNvbmZcbiAgIC0gUmV2aWV3IGFwcGxpY2F0aW9uIGNvbm5lY3Rpb24gcG9vbCBzaXplXG5cbjQuIFJlc3RhcnQgZGF0YWJhc2UgaWYgbmVlZGVkXG4gICAtIFxcYHN1ZG8gc3lzdGVtY3RsIHJlc3RhcnQgcG9zdGdyZXNxbFxcYFxuXG4jIyBQcmV2ZW50aW9uXG4tIE1vbml0b3IgY29ubmVjdGlvbiBwb29sIHVzYWdlXG4tIFNldCB1cCBhbGVydHMgZm9yIGNvbm5lY3Rpb24gZXJyb3JzXG4tIFJlZ3VsYXIgZGF0YWJhc2UgaGVhbHRoIGNoZWNrc2AsXG4gIH0sXG4gIHtcbiAgICBpZDogJzInLFxuICAgIHRpdGxlOiAnSGlnaCBNZW1vcnkgVXNhZ2UnLFxuICAgIGNvbnRlbnQ6IGAjIEhpZ2ggTWVtb3J5IFVzYWdlXG5cbiMjIFN5bXB0b21zXG4tIFNlcnZlciBtZW1vcnkgdXNhZ2UgPiA5MCVcbi0gQXBwbGljYXRpb24gc2xvd2Rvd25cbi0gT09NIChPdXQgb2YgTWVtb3J5KSBlcnJvcnNcblxuIyMgU3RlcHMgdG8gUmVzb2x2ZVxuXG4xLiBJZGVudGlmeSBtZW1vcnkgY29uc3VtZXJzXG4gICAtIENoZWNrIHRvcCBwcm9jZXNzZXM6IFxcYHRvcCAtbyAlTUVNXFxgXG4gICAtIFJldmlldyBtZW1vcnkgc3RhdHM6IFxcYGZyZWUgLWhcXGBcblxuMi4gQ2hlY2sgYXBwbGljYXRpb24gbWVtb3J5IGxlYWtzXG4gICAtIFJldmlldyByZWNlbnQgZGVwbG95bWVudHNcbiAgIC0gQ2hlY2sgZm9yIHVuY2xvc2VkIGNvbm5lY3Rpb25zL3Jlc291cmNlc1xuXG4zLiBSZXN0YXJ0IGhpZ2gtbWVtb3J5IHByb2Nlc3Nlc1xuICAgLSBJZGVudGlmeSBhbmQgcmVzdGFydCBwcm9ibGVtYXRpYyBzZXJ2aWNlc1xuICAgLSBDb25zaWRlciBzY2FsaW5nIGhvcml6b250YWxseVxuXG40LiBDbGVhciBjYWNoZXMgaWYgYXBwbGljYWJsZVxuICAgLSBBcHBsaWNhdGlvbiBjYWNoZXNcbiAgIC0gU3lzdGVtIGNhY2hlcyAoaWYgc2FmZSlcblxuIyMgUHJldmVudGlvblxuLSBTZXQgbWVtb3J5IGxpbWl0cyBvbiBjb250YWluZXJzXG4tIE1vbml0b3IgbWVtb3J5IHRyZW5kc1xuLSBSZWd1bGFyIG1lbW9yeSBsZWFrIGF1ZGl0c2AsXG4gIH0sXG4gIHtcbiAgICBpZDogJzMnLFxuICAgIHRpdGxlOiAnQVBJIFJhdGUgTGltaXRpbmcnLFxuICAgIGNvbnRlbnQ6IGAjIEFQSSBSYXRlIExpbWl0aW5nXG5cbiMjIFN5bXB0b21zXG4tIDQyOSBUb28gTWFueSBSZXF1ZXN0cyBlcnJvcnNcbi0gQVBJIGNhbGxzIGJlaW5nIHJlamVjdGVkXG4tIFVzZXIgY29tcGxhaW50cyBhYm91dCBzZXJ2aWNlIHVuYXZhaWxhYmlsaXR5XG5cbiMjIFN0ZXBzIHRvIFJlc29sdmVcblxuMS4gQ2hlY2sgY3VycmVudCByYXRlIGxpbWl0IHNldHRpbmdzXG4gICAtIFJldmlldyBBUEkgZ2F0ZXdheSBjb25maWd1cmF0aW9uXG4gICAtIENoZWNrIGFwcGxpY2F0aW9uIHJhdGUgbGltaXRlcnNcblxuMi4gSWRlbnRpZnkgc291cmNlIG9mIGhpZ2ggdHJhZmZpY1xuICAgLSBSZXZpZXcgYWNjZXNzIGxvZ3NcbiAgIC0gQ2hlY2sgZm9yIEREb1Mgb3IgbGVnaXRpbWF0ZSB0cmFmZmljIHNwaWtlXG5cbjMuIEFkanVzdCByYXRlIGxpbWl0cyBpZiBuZWVkZWRcbiAgIC0gVGVtcG9yYXJpbHkgaW5jcmVhc2UgbGltaXRzIGZvciBsZWdpdGltYXRlIHRyYWZmaWNcbiAgIC0gQmxvY2sgbWFsaWNpb3VzIElQcyBpZiBhcHBsaWNhYmxlXG5cbjQuIFNjYWxlIGluZnJhc3RydWN0dXJlXG4gICAtIEFkZCBtb3JlIEFQSSBpbnN0YW5jZXNcbiAgIC0gSW5jcmVhc2UgcmF0ZSBsaW1pdCB0aHJlc2hvbGRzXG5cbiMjIFByZXZlbnRpb25cbi0gTW9uaXRvciBBUEkgdXNhZ2UgcGF0dGVybnNcbi0gU2V0IHVwIGFsZXJ0cyBmb3IgcmF0ZSBsaW1pdCBicmVhY2hlc1xuLSBJbXBsZW1lbnQgZ3JhZHVhbCByYXRlIGxpbWl0aW5nYCxcbiAgfSxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hSdW5ib29rcyhxdWVyeTogc3RyaW5nKTogQXJyYXk8eyBpZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBjb250ZW50OiBzdHJpbmc7IHJlbGV2YW5jZTogbnVtYmVyIH0+IHtcbiAgY29uc3QgbG93ZXJRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBkZW1vUnVuYm9va3NcbiAgICAubWFwKHJ1bmJvb2sgPT4ge1xuICAgICAgY29uc3QgdGl0bGVNYXRjaCA9IHJ1bmJvb2sudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlclF1ZXJ5KSA/IDEwIDogMDtcbiAgICAgIGNvbnN0IGNvbnRlbnRNYXRjaCA9IChydW5ib29rLmNvbnRlbnQudG9Mb3dlckNhc2UoKS5tYXRjaChuZXcgUmVnRXhwKGxvd2VyUXVlcnksICdnJykpIHx8IFtdKS5sZW5ndGg7XG4gICAgICBjb25zdCByZWxldmFuY2UgPSB0aXRsZU1hdGNoICsgY29udGVudE1hdGNoO1xuICAgICAgcmV0dXJuIHsgLi4ucnVuYm9vaywgcmVsZXZhbmNlIH07XG4gICAgfSlcbiAgICAuZmlsdGVyKHIgPT4gci5yZWxldmFuY2UgPiAwKVxuICAgIC5zb3J0KChhLCBiKSA9PiBiLnJlbGV2YW5jZSAtIGEucmVsZXZhbmNlKTtcbn1cblxuIl0sIm5hbWVzIjpbImRlbW9SdW5ib29rcyIsImlkIiwidGl0bGUiLCJjb250ZW50Iiwic2VhcmNoUnVuYm9va3MiLCJxdWVyeSIsImxvd2VyUXVlcnkiLCJ0b0xvd2VyQ2FzZSIsIm1hcCIsInJ1bmJvb2siLCJ0aXRsZU1hdGNoIiwiaW5jbHVkZXMiLCJjb250ZW50TWF0Y2giLCJtYXRjaCIsIlJlZ0V4cCIsImxlbmd0aCIsInJlbGV2YW5jZSIsImZpbHRlciIsInIiLCJzb3J0IiwiYSIsImIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/demo-runbooks.ts\n");

/***/ }),

/***/ "(rsc)/./lib/indexing.ts":
/*!*************************!*\
  !*** ./lib/indexing.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunkText: () => (/* binding */ chunkText),\n/* harmony export */   createEmbedding: () => (/* binding */ createEmbedding),\n/* harmony export */   extractTextFromMarkdown: () => (/* binding */ extractTextFromMarkdown),\n/* harmony export */   extractTextFromPDF: () => (/* binding */ extractTextFromPDF),\n/* harmony export */   insertChunk: () => (/* binding */ insertChunk),\n/* harmony export */   insertDocument: () => (/* binding */ insertDocument)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n/* harmony import */ var pdf_parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pdf-parse */ \"(rsc)/./node_modules/pdf-parse/index.js\");\n/* harmony import */ var pdf_parse__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pdf_parse__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_1__]);\n_db__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\n// Extract text from PDF buffer\nasync function extractTextFromPDF(buffer) {\n    const data = await pdf_parse__WEBPACK_IMPORTED_MODULE_0___default()(buffer);\n    return data.text;\n}\n// Extract text from Markdown (just return as-is, it's already text)\nfunction extractTextFromMarkdown(buffer) {\n    return buffer.toString(\"utf-8\");\n}\n// Chunk text with heading-aware chunking for markdown\nfunction chunkText(text, isMarkdown = false, maxChunkSize = 1000, overlap = 200) {\n    if (!isMarkdown) {\n        // Simple chunking for non-markdown (PDF text)\n        return chunkTextSimple(text, maxChunkSize, overlap);\n    }\n    // Heading-aware chunking for markdown\n    return chunkMarkdownWithHeadings(text, maxChunkSize, overlap);\n}\n// Simple chunking for non-markdown text\nfunction chunkTextSimple(text, maxChunkSize, overlap) {\n    const chunks = [];\n    let start = 0;\n    while(start < text.length){\n        const end = Math.min(start + maxChunkSize, text.length);\n        let chunk = text.slice(start, end);\n        // Try to break at sentence boundary\n        if (end < text.length) {\n            const lastPeriod = chunk.lastIndexOf(\".\");\n            const lastNewline = chunk.lastIndexOf(\"\\n\");\n            const breakPoint = Math.max(lastPeriod, lastNewline);\n            if (breakPoint > start + maxChunkSize * 0.5) {\n                chunk = text.slice(start, start + breakPoint + 1);\n                start = start + breakPoint + 1 - overlap;\n            } else {\n                start = end - overlap;\n            }\n        } else {\n            start = end;\n        }\n        if (chunk.trim().length > 0) {\n            chunks.push(chunk.trim());\n        }\n    }\n    return chunks;\n}\n// Heading-aware chunking for markdown\nfunction chunkMarkdownWithHeadings(text, maxChunkSize, overlap) {\n    const chunks = [];\n    const lines = text.split(\"\\n\");\n    const headingRegex = /^#{1,6}\\s+/;\n    let currentChunk = [];\n    let currentSize = 0;\n    let lastHeading = \"\";\n    for(let i = 0; i < lines.length; i++){\n        const line = lines[i];\n        const isHeading = headingRegex.test(line);\n        const lineSize = line.length + 1; // +1 for newline\n        // If we hit a heading and current chunk is getting large, finalize it\n        if (isHeading && currentSize > maxChunkSize * 0.7 && currentChunk.length > 0) {\n            chunks.push(currentChunk.join(\"\\n\").trim());\n            // Start new chunk with overlap from previous\n            const overlapLines = Math.floor(currentChunk.length * 0.2);\n            currentChunk = currentChunk.slice(-overlapLines);\n            currentSize = currentChunk.join(\"\\n\").length;\n            lastHeading = line;\n        }\n        // If adding this line would exceed max size, finalize current chunk\n        if (currentSize + lineSize > maxChunkSize && currentChunk.length > 0) {\n            chunks.push(currentChunk.join(\"\\n\").trim());\n            // Start new chunk with overlap\n            const overlapLines = Math.floor(currentChunk.length * 0.2);\n            currentChunk = currentChunk.slice(-overlapLines);\n            currentSize = currentChunk.join(\"\\n\").length;\n        }\n        // Add line to current chunk\n        currentChunk.push(line);\n        currentSize += lineSize;\n        // Track last heading for context\n        if (isHeading) {\n            lastHeading = line;\n        }\n    }\n    // Add final chunk if any remaining\n    if (currentChunk.length > 0) {\n        chunks.push(currentChunk.join(\"\\n\").trim());\n    }\n    return chunks.filter((chunk)=>chunk.length > 0);\n}\n// Create embedding using OpenAI\nasync function createEmbedding(text) {\n    const response = await openai.embeddings.create({\n        model: process.env.OPENAI_EMBEDDING_MODEL || \"text-embedding-3-small\",\n        input: text\n    });\n    return response.data[0].embedding;\n}\n// Insert document and return document ID\nasync function insertDocument(filename) {\n    const result = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(`INSERT INTO documents (filename) VALUES ($1) RETURNING id`, [\n        filename\n    ]);\n    return result.rows[0].id;\n}\n// Insert chunk with embedding\nasync function insertChunk(documentId, chunkIndex, text, embedding) {\n    await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(`INSERT INTO chunks (document_id, chunk_index, text, embedding)\n     VALUES ($1, $2, $3, $4::vector)`, [\n        documentId,\n        chunkIndex,\n        text,\n        JSON.stringify(embedding)\n    ]);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXlELENBQUMsRUFDM0Q7UUFBQ3lEO0tBQVM7SUFFWixPQUFPQyxPQUFPQyxJQUFJLENBQUMsRUFBRSxDQUFDQyxFQUFFO0FBQzFCO0FBRUEsOEJBQThCO0FBQ3ZCLGVBQWVDLFlBQ3BCQyxVQUFrQixFQUNsQkMsVUFBa0IsRUFDbEJ0RCxJQUFZLEVBQ1o4QyxTQUFtQjtJQUVuQixNQUFNdkQsMENBQUtBLENBQ1QsQ0FBQztvQ0FDK0IsQ0FBQyxFQUNqQztRQUFDOEQ7UUFBWUM7UUFBWXREO1FBQU11RCxLQUFLQyxTQUFTLENBQUNWO0tBQVc7QUFFN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ydW5ib29rLWNvcGlsb3QvLi9saWIvaW5kZXhpbmcudHM/NmE1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT3BlbkFJIGZyb20gJ29wZW5haSc7XG5pbXBvcnQgcGRmUGFyc2UgZnJvbSAncGRmLXBhcnNlJztcbmltcG9ydCB7IHF1ZXJ5IH0gZnJvbSAnLi9kYic7XG5cbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoe1xuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxufSk7XG5cbi8vIEV4dHJhY3QgdGV4dCBmcm9tIFBERiBidWZmZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHRyYWN0VGV4dEZyb21QREYoYnVmZmVyOiBCdWZmZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBkYXRhID0gYXdhaXQgcGRmUGFyc2UoYnVmZmVyKTtcbiAgcmV0dXJuIGRhdGEudGV4dDtcbn1cblxuLy8gRXh0cmFjdCB0ZXh0IGZyb20gTWFya2Rvd24gKGp1c3QgcmV0dXJuIGFzLWlzLCBpdCdzIGFscmVhZHkgdGV4dClcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VGV4dEZyb21NYXJrZG93bihidWZmZXI6IEJ1ZmZlcik6IHN0cmluZyB7XG4gIHJldHVybiBidWZmZXIudG9TdHJpbmcoJ3V0Zi04Jyk7XG59XG5cbi8vIENodW5rIHRleHQgd2l0aCBoZWFkaW5nLWF3YXJlIGNodW5raW5nIGZvciBtYXJrZG93blxuZXhwb3J0IGZ1bmN0aW9uIGNodW5rVGV4dCh0ZXh0OiBzdHJpbmcsIGlzTWFya2Rvd246IGJvb2xlYW4gPSBmYWxzZSwgbWF4Q2h1bmtTaXplOiBudW1iZXIgPSAxMDAwLCBvdmVybGFwOiBudW1iZXIgPSAyMDApOiBzdHJpbmdbXSB7XG4gIGlmICghaXNNYXJrZG93bikge1xuICAgIC8vIFNpbXBsZSBjaHVua2luZyBmb3Igbm9uLW1hcmtkb3duIChQREYgdGV4dClcbiAgICByZXR1cm4gY2h1bmtUZXh0U2ltcGxlKHRleHQsIG1heENodW5rU2l6ZSwgb3ZlcmxhcCk7XG4gIH1cblxuICAvLyBIZWFkaW5nLWF3YXJlIGNodW5raW5nIGZvciBtYXJrZG93blxuICByZXR1cm4gY2h1bmtNYXJrZG93bldpdGhIZWFkaW5ncyh0ZXh0LCBtYXhDaHVua1NpemUsIG92ZXJsYXApO1xufVxuXG4vLyBTaW1wbGUgY2h1bmtpbmcgZm9yIG5vbi1tYXJrZG93biB0ZXh0XG5mdW5jdGlvbiBjaHVua1RleHRTaW1wbGUodGV4dDogc3RyaW5nLCBtYXhDaHVua1NpemU6IG51bWJlciwgb3ZlcmxhcDogbnVtYmVyKTogc3RyaW5nW10ge1xuICBjb25zdCBjaHVua3M6IHN0cmluZ1tdID0gW107XG4gIGxldCBzdGFydCA9IDA7XG5cbiAgd2hpbGUgKHN0YXJ0IDwgdGV4dC5sZW5ndGgpIHtcbiAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzdGFydCArIG1heENodW5rU2l6ZSwgdGV4dC5sZW5ndGgpO1xuICAgIGxldCBjaHVuayA9IHRleHQuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cbiAgICAvLyBUcnkgdG8gYnJlYWsgYXQgc2VudGVuY2UgYm91bmRhcnlcbiAgICBpZiAoZW5kIDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGxhc3RQZXJpb2QgPSBjaHVuay5sYXN0SW5kZXhPZignLicpO1xuICAgICAgY29uc3QgbGFzdE5ld2xpbmUgPSBjaHVuay5sYXN0SW5kZXhPZignXFxuJyk7XG4gICAgICBjb25zdCBicmVha1BvaW50ID0gTWF0aC5tYXgobGFzdFBlcmlvZCwgbGFzdE5ld2xpbmUpO1xuICAgICAgaWYgKGJyZWFrUG9pbnQgPiBzdGFydCArIG1heENodW5rU2l6ZSAqIDAuNSkge1xuICAgICAgICBjaHVuayA9IHRleHQuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgYnJlYWtQb2ludCArIDEpO1xuICAgICAgICBzdGFydCA9IHN0YXJ0ICsgYnJlYWtQb2ludCArIDEgLSBvdmVybGFwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBlbmQgLSBvdmVybGFwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IGVuZDtcbiAgICB9XG5cbiAgICBpZiAoY2h1bmsudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNodW5rcy5wdXNoKGNodW5rLnRyaW0oKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNodW5rcztcbn1cblxuLy8gSGVhZGluZy1hd2FyZSBjaHVua2luZyBmb3IgbWFya2Rvd25cbmZ1bmN0aW9uIGNodW5rTWFya2Rvd25XaXRoSGVhZGluZ3ModGV4dDogc3RyaW5nLCBtYXhDaHVua1NpemU6IG51bWJlciwgb3ZlcmxhcDogbnVtYmVyKTogc3RyaW5nW10ge1xuICBjb25zdCBjaHVua3M6IHN0cmluZ1tdID0gW107XG4gIGNvbnN0IGxpbmVzID0gdGV4dC5zcGxpdCgnXFxuJyk7XG4gIGNvbnN0IGhlYWRpbmdSZWdleCA9IC9eI3sxLDZ9XFxzKy87XG5cbiAgbGV0IGN1cnJlbnRDaHVuazogc3RyaW5nW10gPSBbXTtcbiAgbGV0IGN1cnJlbnRTaXplID0gMDtcbiAgbGV0IGxhc3RIZWFkaW5nID0gJyc7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgICBjb25zdCBpc0hlYWRpbmcgPSBoZWFkaW5nUmVnZXgudGVzdChsaW5lKTtcbiAgICBjb25zdCBsaW5lU2l6ZSA9IGxpbmUubGVuZ3RoICsgMTsgLy8gKzEgZm9yIG5ld2xpbmVcblxuICAgIC8vIElmIHdlIGhpdCBhIGhlYWRpbmcgYW5kIGN1cnJlbnQgY2h1bmsgaXMgZ2V0dGluZyBsYXJnZSwgZmluYWxpemUgaXRcbiAgICBpZiAoaXNIZWFkaW5nICYmIGN1cnJlbnRTaXplID4gbWF4Q2h1bmtTaXplICogMC43ICYmIGN1cnJlbnRDaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICBjaHVua3MucHVzaChjdXJyZW50Q2h1bmsuam9pbignXFxuJykudHJpbSgpKTtcbiAgICAgIC8vIFN0YXJ0IG5ldyBjaHVuayB3aXRoIG92ZXJsYXAgZnJvbSBwcmV2aW91c1xuICAgICAgY29uc3Qgb3ZlcmxhcExpbmVzID0gTWF0aC5mbG9vcihjdXJyZW50Q2h1bmsubGVuZ3RoICogMC4yKTtcbiAgICAgIGN1cnJlbnRDaHVuayA9IGN1cnJlbnRDaHVuay5zbGljZSgtb3ZlcmxhcExpbmVzKTtcbiAgICAgIGN1cnJlbnRTaXplID0gY3VycmVudENodW5rLmpvaW4oJ1xcbicpLmxlbmd0aDtcbiAgICAgIGxhc3RIZWFkaW5nID0gbGluZTtcbiAgICB9XG5cbiAgICAvLyBJZiBhZGRpbmcgdGhpcyBsaW5lIHdvdWxkIGV4Y2VlZCBtYXggc2l6ZSwgZmluYWxpemUgY3VycmVudCBjaHVua1xuICAgIGlmIChjdXJyZW50U2l6ZSArIGxpbmVTaXplID4gbWF4Q2h1bmtTaXplICYmIGN1cnJlbnRDaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICBjaHVua3MucHVzaChjdXJyZW50Q2h1bmsuam9pbignXFxuJykudHJpbSgpKTtcbiAgICAgIC8vIFN0YXJ0IG5ldyBjaHVuayB3aXRoIG92ZXJsYXBcbiAgICAgIGNvbnN0IG92ZXJsYXBMaW5lcyA9IE1hdGguZmxvb3IoY3VycmVudENodW5rLmxlbmd0aCAqIDAuMik7XG4gICAgICBjdXJyZW50Q2h1bmsgPSBjdXJyZW50Q2h1bmsuc2xpY2UoLW92ZXJsYXBMaW5lcyk7XG4gICAgICBjdXJyZW50U2l6ZSA9IGN1cnJlbnRDaHVuay5qb2luKCdcXG4nKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gQWRkIGxpbmUgdG8gY3VycmVudCBjaHVua1xuICAgIGN1cnJlbnRDaHVuay5wdXNoKGxpbmUpO1xuICAgIGN1cnJlbnRTaXplICs9IGxpbmVTaXplO1xuXG4gICAgLy8gVHJhY2sgbGFzdCBoZWFkaW5nIGZvciBjb250ZXh0XG4gICAgaWYgKGlzSGVhZGluZykge1xuICAgICAgbGFzdEhlYWRpbmcgPSBsaW5lO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBmaW5hbCBjaHVuayBpZiBhbnkgcmVtYWluaW5nXG4gIGlmIChjdXJyZW50Q2h1bmsubGVuZ3RoID4gMCkge1xuICAgIGNodW5rcy5wdXNoKGN1cnJlbnRDaHVuay5qb2luKCdcXG4nKS50cmltKCkpO1xuICB9XG5cbiAgcmV0dXJuIGNodW5rcy5maWx0ZXIoY2h1bmsgPT4gY2h1bmsubGVuZ3RoID4gMCk7XG59XG5cbi8vIENyZWF0ZSBlbWJlZGRpbmcgdXNpbmcgT3BlbkFJXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRW1iZWRkaW5nKHRleHQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyW10+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuYWkuZW1iZWRkaW5ncy5jcmVhdGUoe1xuICAgIG1vZGVsOiBwcm9jZXNzLmVudi5PUEVOQUlfRU1CRURESU5HX01PREVMIHx8ICd0ZXh0LWVtYmVkZGluZy0zLXNtYWxsJyxcbiAgICBpbnB1dDogdGV4dCxcbiAgfSk7XG4gIHJldHVybiByZXNwb25zZS5kYXRhWzBdLmVtYmVkZGluZztcbn1cblxuLy8gSW5zZXJ0IGRvY3VtZW50IGFuZCByZXR1cm4gZG9jdW1lbnQgSURcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnREb2N1bWVudChmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXG4gICAgYElOU0VSVCBJTlRPIGRvY3VtZW50cyAoZmlsZW5hbWUpIFZBTFVFUyAoJDEpIFJFVFVSTklORyBpZGAsXG4gICAgW2ZpbGVuYW1lXVxuICApO1xuICByZXR1cm4gcmVzdWx0LnJvd3NbMF0uaWQ7XG59XG5cbi8vIEluc2VydCBjaHVuayB3aXRoIGVtYmVkZGluZ1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydENodW5rKFxuICBkb2N1bWVudElkOiBzdHJpbmcsXG4gIGNodW5rSW5kZXg6IG51bWJlcixcbiAgdGV4dDogc3RyaW5nLFxuICBlbWJlZGRpbmc6IG51bWJlcltdXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgcXVlcnkoXG4gICAgYElOU0VSVCBJTlRPIGNodW5rcyAoZG9jdW1lbnRfaWQsIGNodW5rX2luZGV4LCB0ZXh0LCBlbWJlZGRpbmcpXG4gICAgIFZBTFVFUyAoJDEsICQyLCAkMywgJDQ6OnZlY3RvcilgLFxuICAgIFtkb2N1bWVudElkLCBjaHVua0luZGV4LCB0ZXh0LCBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpXVxuICApO1xufVxuIl0sIm5hbWVzIjpbIk9wZW5BSSIsInBkZlBhcnNlIiwicXVlcnkiLCJvcGVuYWkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJleHRyYWN0VGV4dEZyb21QREYiLCJidWZmZXIiLCJkYXRhIiwidGV4dCIsImV4dHJhY3RUZXh0RnJvbU1hcmtkb3duIiwidG9TdHJpbmciLCJjaHVua1RleHQiLCJpc01hcmtkb3duIiwibWF4Q2h1bmtTaXplIiwib3ZlcmxhcCIsImNodW5rVGV4dFNpbXBsZSIsImNodW5rTWFya2Rvd25XaXRoSGVhZGluZ3MiLCJjaHVua3MiLCJzdGFydCIsImxlbmd0aCIsImVuZCIsIk1hdGgiLCJtaW4iLCJjaHVuayIsInNsaWNlIiwibGFzdFBlcmlvZCIsImxhc3RJbmRleE9mIiwibGFzdE5ld2xpbmUiLCJicmVha1BvaW50IiwibWF4IiwidHJpbSIsInB1c2giLCJsaW5lcyIsInNwbGl0IiwiaGVhZGluZ1JlZ2V4IiwiY3VycmVudENodW5rIiwiY3VycmVudFNpemUiLCJsYXN0SGVhZGluZyIsImkiLCJsaW5lIiwiaXNIZWFkaW5nIiwidGVzdCIsImxpbmVTaXplIiwiam9pbiIsIm92ZXJsYXBMaW5lcyIsImZsb29yIiwiZmlsdGVyIiwiY3JlYXRlRW1iZWRkaW5nIiwicmVzcG9uc2UiLCJlbWJlZGRpbmdzIiwiY3JlYXRlIiwibW9kZWwiLCJPUEVOQUlfRU1CRURESU5HX01PREVMIiwiaW5wdXQiLCJlbWJlZGRpbmciLCJpbnNlcnREb2N1bWVudCIsImZpbGVuYW1lIiwicmVzdWx0Iiwicm93cyIsImlkIiwiaW5zZXJ0Q2h1bmsiLCJkb2N1bWVudElkIiwiY2h1bmtJbmRleCIsIkpTT04iLCJzdHJpbmdpZnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/indexing.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/pdf-parse","vendor-chunks/formdata-node","vendor-chunks/openai","vendor-chunks/form-data-encoder","vendor-chunks/uuid","vendor-chunks/whatwg-url","vendor-chunks/agentkeepalive","vendor-chunks/tr46","vendor-chunks/web-streams-polyfill","vendor-chunks/node-fetch","vendor-chunks/webidl-conversions","vendor-chunks/ms","vendor-chunks/humanize-ms","vendor-chunks/event-target-shim","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FseedDemo%2Froute&page=%2Fapi%2FseedDemo%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FseedDemo%2Froute.ts&appDir=%2FUsers%2Fnickarndt%2FCode%2Frunbook-copilot%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnickarndt%2FCode%2Frunbook-copilot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();